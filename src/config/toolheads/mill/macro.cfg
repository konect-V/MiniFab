[gcode_macro M1]
gcode:
    M117 "M1: starting milling operation"
    SET_FAN_SPEED FAN=MACHINE_FAN SPEED=1.0
    G90
    G21

[gcode_macro M30]
rename_existing: M30.1
gcode:
    M117 "M30: ending milling operation"
    SET_FAN_SPEED FAN=MACHINE_FAN SPEED=0.0

[gcode_macro SET_DOOR_OVERRIDE]
gcode:
    {% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
    {% set override = params.override|default('False') %}
    {% set override = override.lower() in ['true', '1', 'yes'] %}
    SET_GCODE_VARIABLE MACRO=_CLIENT_VARIABLE VARIABLE=override_door_open VALUE={override}