[gcode_macro G28]
rename_existing: G28.1
gcode:
  G90
  G28.1
  G0 X50 Y75 Z10
  PROBE
  _ajust_z_origin

[gcode_macro _ajust_z_origin]
gcode:
  {% set probed_z = printer.probe.last_z_result|float - printer.configfile.settings['probe'].z_offset|float %}
  G0 Z{probed_z}
  Z_ORIGIN